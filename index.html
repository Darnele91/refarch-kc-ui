



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.0.1">
    
    
      
        <title>Container Shipment EDA User Interface</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/application.982221ab.css">
      
      
    
    
      <script src="assets/javascripts/modernizr.1f0bcf2b.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="extra.css">
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#user-interface-and-bff-for-the-k-container-shipment-solution" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="." title="Container Shipment EDA User Interface" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Container Shipment EDA User Interface
            </span>
            <span class="md-header-nav__topic">
              Introduction
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/ibm-cloud-architecture/refarch-kc-ui/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="." title="Container Shipment EDA User Interface" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Container Shipment EDA User Interface
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/ibm-cloud-architecture/refarch-kc-ui/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Introduction
      </label>
    
    <a href="." title="Introduction" class="md-nav__link md-nav__link--active">
      Introduction
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#user-stories-to-support" title="User stories to support" class="md-nav__link">
    User stories to support
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-and-run" title="Build and Run" class="md-nav__link">
    Build and Run
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ui-development" title="UI Development" class="md-nav__link">
    UI Development
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ui-development-server" title="UI Development server" class="md-nav__link">
    UI Development server
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ui-build" title="UI Build" class="md-nav__link">
    UI Build
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ui-running-unit-tests" title="UI Running unit tests" class="md-nav__link">
    UI Running unit tests
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment" title="Deployment" class="md-nav__link">
    Deployment
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deploy-on-ibm-cloud-iks" title="Deploy on IBM Cloud IKS" class="md-nav__link">
    Deploy on IBM Cloud IKS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy-on-ibm-cloud-private" title="Deploy on IBM Cloud Private" class="md-nav__link">
    Deploy on IBM Cloud Private
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contribute" title="Contribute" class="md-nav__link">
    Contribute
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#user-stories-to-support" title="User stories to support" class="md-nav__link">
    User stories to support
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-and-run" title="Build and Run" class="md-nav__link">
    Build and Run
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ui-development" title="UI Development" class="md-nav__link">
    UI Development
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ui-development-server" title="UI Development server" class="md-nav__link">
    UI Development server
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ui-build" title="UI Build" class="md-nav__link">
    UI Build
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ui-running-unit-tests" title="UI Running unit tests" class="md-nav__link">
    UI Running unit tests
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment" title="Deployment" class="md-nav__link">
    Deployment
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deploy-on-ibm-cloud-iks" title="Deploy on IBM Cloud IKS" class="md-nav__link">
    Deploy on IBM Cloud IKS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy-on-ibm-cloud-private" title="Deploy on IBM Cloud Private" class="md-nav__link">
    Deploy on IBM Cloud Private
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contribute" title="Contribute" class="md-nav__link">
    Contribute
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/ibm-cloud-architecture/refarch-kc-ui/edit/master/docs/index.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="user-interface-and-bff-for-the-k-container-shipment-solution">User Interface and BFF for the K Container shipment solution</h1>
<p>This repository includes the user interface in Angular as Single Page Application and the BFF in nodejs to present the container shipment demonstration. It uses the different simulator microservices and functions to support the end to end demonstration. This project is part of the Container shipment reference implementation as presented in <a href="https://github.com/ibm-cloud-architecture/refarch-kc">this project</a>.</p>
<h2 id="user-stories-to-support">User stories to support</h2>
<ul>
<li>[ ] As a fleet manager I want to login to the webapp to access the fleet management feature</li>
<li>[x] As a fleet manager I want to select one of the fleet to get the list of ships with their attributes in a table format, and plot the ship on a map at their respective position (latitude, longitude)</li>
<li>[ ] As a demoer I want to start ship movement so the ships move on the map</li>
<li>[ ] As a fleet manager I want to select one ship from the table of ships and present a detail view of it with its containers loaded in the boat</li>
<li>[ ] As a demoer I want to start the fire to container or heat wave or container down simulation from the detailed ship view</li>
<li>[ ] As a demoer I want to see the message coming back from the streaming analytics about next best action from my simulation</li>
</ul>
<h2 id="build-and-run">Build and Run</h2>
<p>The <code>scripts</code> folder has two scripts to build the UI, and a docker image for the server and single page app, and run it locally. You should clone all the KC solution repositories and use each component one by one, or use our IBM public cloud deployment. To be able to run the UI locally, you need to have at least the following component up and running:</p>
<ul>
<li>Kafka and zookeeper: Use the docker compose file in the root project: 
 <code>cd ../refarch-kc/docker
 docker-compose -f backbone-compose.yml up</code></li>
<li>
<p>Start the Fleet simulator.  For the fleet simulator <a href="https://github.com/ibm-cloud-architecture/refarch-kc-ms/tree/master/fleet-ms#run">see instructions here</a> to run the simulator locally.</p>
</li>
<li>
<p>Make sure you have the angular cli installed via <code>npm install -g @angular/cli</code> and run an initial <code>npm install</code> inside the ui folder to pull all dependencies.</p>
</li>
<li>
<p>Build UI and server and a docker image with the command: <code>./scripts/build.sh</code>. The trace looks like:</p>
<blockquote>
<p>.... chunk {main} main.js, main.js.map (main) 78.9 kB [initial] [rendered]
chunk {polyfills} polyfills.js, polyfills.js.map (polyfills) 223 kB [initial] [rendered]
chunk {runtime} runtime.js, runtime.js.map (runtime) 6.08 kB [entry] [rendered]
chunk {styles} styles.js, styles.js.map (styles) 387 kB [initial] [rendered]
chunk {vendor} vendor.js, vendor.js.map (vendor) 6.81 MB [initial] [rendered]
... <br />
kcbff@0.0.1 copy-deps /Users/jeromeboyer/Code/GreenCompute/refarch-kc-ui/server
cpx "../ui/dist/ui/<em>.</em>" ./dist/server/static &amp;&amp; cpx "./config/config.json" ./dist/server/config <br />
Successfully built 0226a1748fd9<br />
Successfully tagged ibmcase/kc-ui:latest</p>
</blockquote>
</li>
<li>
<p>Start locally with <code>./script/run.sh</code> or with a docker <code>./script/runDocker.sh</code>. </p>
</li>
<li>
<p>Use your web browser at http://localhost:3000/#/home </p>
</li>
</ul>
<h2 id="ui-development">UI Development</h2>
<p>This is a traditional Angular 7 app with the app.module.ts using <code>shared</code> and <code>features</code> modules. <code>Shared</code> is for UI generic widgets, while <code>features</code> are for supporting the UI specific components linked to the business logic. 
There is no login page yet, but the home page displays a set of tiles to support the demonstration of the full shipment process as illustrated in the figure below:</p>
<p><img alt="" src="kc-ui-home.png" /></p>
<p>For the BFF code the server code is under the <code>server</code> folder and uses the standard patterns for expressjs middleware. The <a href="./server/README.md">readme file</a> goes into the details on this implementation.</p>
<p>This project was generated with <a href="https://github.com/angular/angular-cli">Angular CLI</a> version 7.1. The user interface features are under the features folder. We are using a TDD approach as described in <a href="https://github.com/ibm-cloud-architecture/refarch-caseportal-app/blob/master/docs/tdd.md">this note.</a> The tests run with <code>ng test</code>. We also encourage to read the <a href="https://angular.io/guide/testing">angular.io testing guide</a></p>
<h3 id="ui-development-server">UI Development server</h3>
<p>Run <code>ng serve</code> for a dev server. Navigate to <code>http://localhost:4200/</code>. The app will automatically reload if you change any of the source files.</p>
<h3 id="ui-build">UI Build</h3>
<p>Run <code>ng build</code> to build the project. The build artifacts will be stored in the <code>dist/</code> directory. Use the <code>--prod</code> flag for a production build.</p>
<h3 id="ui-running-unit-tests">UI Running unit tests</h3>
<p>Run <code>ng test</code> to execute the unit tests via <a href="https://karma-runner.github.io">Karma</a>.</p>
<h2 id="deployment">Deployment</h2>
<h3 id="deploy-on-ibm-cloud-iks">Deploy on IBM Cloud IKS</h3>
<h3 id="deploy-on-ibm-cloud-private">Deploy on IBM Cloud Private</h3>
<h2 id="contribute">Contribute</h2>
<p>As this implementation solution is part of the Event Driven architeture reference architecture, the <a href="./CONTRIBUTING.md">contribution policies</a> apply the same way here.</p>
<p><strong>Contributors:</strong>
<em> <a href="https://www.linkedin.com/in/jeromeboyer/">Jerome Boyer</a>
</em> <a href="https://www.linkedin.com/in/hemankita-perabathini/">Hemankita Perabathini</a></p>
<p>Please <a href="mailto:boyerje@us.ibm.com">contact me</a> for any questions.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="assets/javascripts/application.b806dc00.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"."}})</script>
      
    
  </body>
</html>